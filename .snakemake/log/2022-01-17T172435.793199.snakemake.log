The flag 'directory' used in rule depth_plot is only valid for outputs, not inputs.
The flag 'directory' used in rule meth is only valid for outputs, not inputs.
Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Job stats:
job                   count    min threads    max threads
------------------  -------  -------------  -------------
call_meth                 2             10             10
index_fast5               2              1              1
make_window               1             20             20
meth                      1              1              1
nanopolish_freq           2             20             20
parse_meth_freq           2             20             20
pycometh_CpG              2             20             20
pycometh_Interval         2             20             20
pycometh_Meth_Comp        1             20             20
total                    15              1             20

Select jobs to execute...

[Mon Jan 17 17:24:36 2022]
rule make_window:
    input: data/GRCh38_full_analysis_set_plus_decoy_hla.fa.fai
    output: results/intervals.bed
    log: logs/make_interval.log
    jobid: 16
    threads: 20
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/201ac828fcf9e8c9292b24fb53e99c90
[Mon Jan 17 17:24:36 2022]
Finished job 16.
1 of 15 steps (7%) done
Select jobs to execute...

[Mon Jan 17 17:24:36 2022]
rule index_fast5:
    input: data/1S.pass.fastq.gz
    output: data/1S.pass.fastq.gz.index.readdb
    log: logs/1S_nanopolish_index.log
    jobid: 2
    wildcards: sample=1S
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b

[Mon Jan 17 17:24:36 2022]
rule index_fast5:
    input: data/1G.pass.fastq.gz
    output: data/1G.pass.fastq.gz.index.readdb
    log: logs/1G_nanopolish_index.log
    jobid: 1
    wildcards: sample=1G
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b
[Mon Jan 17 17:24:40 2022]
Finished job 2.
2 of 15 steps (13%) done
Select jobs to execute...

[Mon Jan 17 17:24:40 2022]
rule call_meth:
    input: data/1S.pass.fastq.gz, data/1S.pass.fastq.gz.index.readdb, data/GRCh38_full_analysis_set_plus_decoy_hla.fa, alignments/1S.minimap2.srt.bam, alignments/1S.minimap2.srt.bam.bai
    output: results/1S.methcalls.tsv
    log: logs/1S_nanopolish_methylation.log
    jobid: 6
    wildcards: sample=1S
    threads: 10
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b
[Mon Jan 17 17:24:43 2022]
Finished job 1.
3 of 15 steps (20%) done
Select jobs to execute...

[Mon Jan 17 17:24:43 2022]
rule call_meth:
    input: data/1G.pass.fastq.gz, data/1G.pass.fastq.gz.index.readdb, data/GRCh38_full_analysis_set_plus_decoy_hla.fa, alignments/1G.minimap2.srt.bam, alignments/1G.minimap2.srt.bam.bai
    output: results/1G.methcalls.tsv
    log: logs/1G_nanopolish_methylation.log
    jobid: 3
    wildcards: sample=1G
    threads: 10
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b
[Mon Jan 17 17:26:44 2022]
Finished job 6.
4 of 15 steps (27%) done
Select jobs to execute...
[Mon Jan 17 17:28:33 2022]
Finished job 3.
5 of 15 steps (33%) done

[Mon Jan 17 17:28:33 2022]
rule pycometh_CpG:
    input: results/1S.methcalls.tsv, data/GRCh38_full_analysis_set_plus_decoy_hla.fa
    output: results/1S.CpG.bed9, results/1S.CpG.tsv
    log: logs/1S_pycoMeth.cpg.log
    jobid: 13
    wildcards: sample=1S
    threads: 20
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/46d8142ba7772fa6d8d087a28f18f672
[Mon Jan 17 17:28:39 2022]
Finished job 13.
6 of 15 steps (40%) done
Select jobs to execute...

[Mon Jan 17 17:28:39 2022]
rule nanopolish_freq:
    input: results/1G.methcalls.tsv
    output: results/1G.methfreq.tsv
    log: logs/1G.nanopolish_freq.log
    jobid: 14
    wildcards: sample=1G
    threads: 20
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b
[Mon Jan 17 17:28:47 2022]
Finished job 14.
7 of 15 steps (47%) done
Select jobs to execute...

[Mon Jan 17 17:28:47 2022]
rule pycometh_CpG:
    input: results/1G.methcalls.tsv, data/GRCh38_full_analysis_set_plus_decoy_hla.fa
    output: results/1G.CpG.bed9, results/1G.CpG.tsv
    log: logs/1G_pycoMeth.cpg.log
    jobid: 11
    wildcards: sample=1G
    threads: 20
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/46d8142ba7772fa6d8d087a28f18f672
[Mon Jan 17 17:29:00 2022]
Finished job 11.
8 of 15 steps (53%) done
Select jobs to execute...

[Mon Jan 17 17:29:00 2022]
rule pycometh_Interval:
    input: results/1S.CpG.tsv, data/GRCh38_full_analysis_set_plus_decoy_hla.fa
    output: results/1S.interval.bed9, results/1S.interval.tsv
    log: logs/1S_pycoMeth.interval.log
    jobid: 12
    wildcards: sample=1S
    threads: 20
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/46d8142ba7772fa6d8d087a28f18f672
[Mon Jan 17 17:29:05 2022]
Finished job 12.
9 of 15 steps (60%) done
Select jobs to execute...

[Mon Jan 17 17:29:05 2022]
rule nanopolish_freq:
    input: results/1S.methcalls.tsv
    output: results/1S.methfreq.tsv
    log: logs/1S.nanopolish_freq.log
    jobid: 15
    wildcards: sample=1S
    threads: 20
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b
[Mon Jan 17 17:29:09 2022]
Finished job 15.
10 of 15 steps (67%) done
Select jobs to execute...

[Mon Jan 17 17:29:09 2022]
rule parse_meth_freq:
    input: results/intervals.bed, results/1G.methfreq.tsv
    output: results/1G.methfreq.parsed.bed
    log: logs/1G.nanopolish_freq.parse.log
    jobid: 17
    wildcards: sample=1G
    threads: 20
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/201ac828fcf9e8c9292b24fb53e99c90
[Mon Jan 17 17:42:51 2022]
Finished job 17.
11 of 15 steps (73%) done
Select jobs to execute...

[Mon Jan 17 17:42:51 2022]
rule parse_meth_freq:
    input: results/intervals.bed, results/1S.methfreq.tsv
    output: results/1S.methfreq.parsed.bed
    log: logs/1S.nanopolish_freq.parse.log
    jobid: 18
    wildcards: sample=1S
    threads: 20
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/201ac828fcf9e8c9292b24fb53e99c90
[Mon Jan 17 17:55:35 2022]
Finished job 18.
12 of 15 steps (80%) done
Select jobs to execute...

[Mon Jan 17 17:55:35 2022]
rule pycometh_Interval:
    input: results/1G.CpG.tsv, data/GRCh38_full_analysis_set_plus_decoy_hla.fa
    output: results/1G.interval.bed9, results/1G.interval.tsv
    log: logs/1G_pycoMeth.interval.log
    jobid: 10
    wildcards: sample=1G
    threads: 20
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/46d8142ba7772fa6d8d087a28f18f672
[Mon Jan 17 17:55:40 2022]
Finished job 10.
13 of 15 steps (87%) done
Select jobs to execute...

[Mon Jan 17 17:55:40 2022]
rule pycometh_Meth_Comp:
    input: results/1G.interval.tsv, results/1S.interval.tsv
    output: results/pycoMeth
    log: logs/pycoMethcomp.log
    jobid: 9
    threads: 20
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/46d8142ba7772fa6d8d087a28f18f672
[Mon Jan 17 17:55:42 2022]
Error in rule pycometh_Meth_Comp:
    jobid: 9
    output: results/pycoMeth
    log: logs/pycoMethcomp.log (check log file(s) for error message)
    conda-env: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/46d8142ba7772fa6d8d087a28f18f672
    shell:
        
		mkdir -p results/pycoMeth && for c in 1S_1G; do g=$(echo ${c} |cut -d "_" -f 2) && s=$(echo ${c} |cut -d "_" -f 1) && pycoMeth Meth_Comp -s ${g} ${s} -i results/${g}.interval.tsv results/${s}.interval.tsv -f data/GRCh38_full_analysis_set_plus_decoy_hla.fa -b results/${g}_${s}.methcomp.bed9 -t results/${g}_${s}.methcomp.tmp.tsv && head -1 results/${g}_${s}.methcomp.tmp.tsv > results/header.txt && grep -w -f data/classic.chrs.txt results/${g}_${s}.methcomp.tmp.tsv > results/${g}_${s}.tmp.tsv && cat results/header.txt results/${g}_${s}.tmp.tsv > results/${g}_${s}.methcomp.tsv && rm results/${g}_${s}.methcomp.tmp.tsv results/${g}_${s}.tmp.tsv results/header.txt && pycoMeth Comp_Report -i results/${g}_${s}.methcomp.tsv -f data/GRCh38_full_analysis_set_plus_decoy_hla.fa -g data/Homo_sapiens.GRCh38.105.gff3 -o results/pycoMeth/${g}_${s} 2>>logs/pycoMethcomp.log; done 
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job pycometh_Meth_Comp since they might be corrupted:
results/pycoMeth
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/log/2022-01-17T172435.793199.snakemake.log
