The flag 'directory' used in rule depth_plot is only valid for outputs, not inputs.
The flag 'directory' used in rule meth is only valid for outputs, not inputs.
Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Conda environments: ignored
Job stats:
job                   count    min threads    max threads
------------------  -------  -------------  -------------
call_meth                 2              1              1
index_bam                 2              1              1
index_fast5               2              1              1
make_window               1              1              1
meth                      1              1              1
minimap2_align            2              1              1
nanopolish_freq           2              1              1
parse_meth_freq           2              1              1
pycometh_CpG              2              1              1
pycometh_Interval         2              1              1
pycometh_Meth_Comp        1              1              1
total                    19              1              1

Select jobs to execute...

[Mon Jan 17 11:19:09 2022]
rule make_window:
    input: data/GRCh38_full_analysis_set_plus_decoy_hla.fa
    output: results/intervals.bed
    log: logs/make_interval.log
    jobid: 16
    resources: tmpdir=/tmp

[Mon Jan 17 11:19:19 2022]
Finished job 16.
1 of 19 steps (5%) done
Select jobs to execute...

[Mon Jan 17 11:19:19 2022]
rule minimap2_align:
    input: data/GRCh38_full_analysis_set_plus_decoy_hla.fa, data/1S.pass.fastq.gz
    output: alignments/1S.minimap2.srt.bam
    log: logs/1S.minimap2_alignment.log
    jobid: 7
    wildcards: sample=1S
    resources: tmpdir=/tmp

[Mon Jan 17 11:25:52 2022]
Finished job 7.
2 of 19 steps (11%) done
Select jobs to execute...

[Mon Jan 17 11:25:52 2022]
rule index_bam:
    input: alignments/1S.minimap2.srt.bam
    output: alignments/1S.minimap2.srt.bam.bai
    jobid: 8
    wildcards: sample=1S, aligner=minimap2
    resources: tmpdir=/tmp

[Mon Jan 17 11:25:53 2022]
Finished job 8.
3 of 19 steps (16%) done
Select jobs to execute...

[Mon Jan 17 11:25:53 2022]
rule index_fast5:
    input: data/1G.pass.fastq.gz
    output: data/1G.pass.fastq.gz.index.readdb
    log: logs/1G_nanopolish_index.log
    jobid: 1
    wildcards: sample=1G
    resources: tmpdir=/tmp

[Mon Jan 17 11:26:16 2022]
Finished job 1.
4 of 19 steps (21%) done
Select jobs to execute...

[Mon Jan 17 11:26:16 2022]
rule minimap2_align:
    input: data/GRCh38_full_analysis_set_plus_decoy_hla.fa, data/1G.pass.fastq.gz
    output: alignments/1G.minimap2.srt.bam
    log: logs/1G.minimap2_alignment.log
    jobid: 4
    wildcards: sample=1G
    resources: tmpdir=/tmp

Terminating processes on user request, this might take some time.
[Mon Jan 17 11:26:58 2022]
Error in rule minimap2_align:
    jobid: 4
    output: alignments/1G.minimap2.srt.bam
    log: logs/1G.minimap2_alignment.log (check log file(s) for error message)
    shell:
        minimap2 --MD -ax map-ont -t 1 data/GRCh38_full_analysis_set_plus_decoy_hla.fa data/1G.pass.fastq.gz | samtools sort -@ 1 -o alignments/1G.minimap2.srt.bam - 2>logs/1G.minimap2_alignment.log
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Complete log: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/log/2022-01-17T111909.444167.snakemake.log
