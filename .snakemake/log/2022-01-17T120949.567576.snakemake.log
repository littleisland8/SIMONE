The flag 'directory' used in rule depth_plot is only valid for outputs, not inputs.
The flag 'directory' used in rule meth is only valid for outputs, not inputs.
Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job stats:
job                   count    min threads    max threads
------------------  -------  -------------  -------------
call_meth                 2              1              1
meth                      1              1              1
nanopolish_freq           2              1              1
parse_meth_freq           2              1              1
pycometh_CpG              2              1              1
pycometh_Interval         2              1              1
pycometh_Meth_Comp        1              1              1
total                    12              1              1

Select jobs to execute...

[Mon Jan 17 12:09:50 2022]
rule call_meth:
    input: data/1G.pass.fastq.gz, data/1G.pass.fastq.gz.index.readdb, data/GRCh38_full_analysis_set_plus_decoy_hla.fa, alignments/1G.minimap2.srt.bam, alignments/1G.minimap2.srt.bam.bai
    output: results/1G.methcalls.tsv
    log: logs/1G_nanopolish_methylation.log
    jobid: 3
    wildcards: sample=1G
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b
[Mon Jan 17 12:09:57 2022]
Finished job 3.
1 of 12 steps (8%) done
Select jobs to execute...

[Mon Jan 17 12:09:57 2022]
rule nanopolish_freq:
    input: results/1G.methcalls.tsv
    output: results/1G.methfreq.tsv
    log: logs/1G.nanopolish_freq.log
    jobid: 14
    wildcards: sample=1G
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b
[Mon Jan 17 12:09:58 2022]
Finished job 14.
2 of 12 steps (17%) done
Select jobs to execute...

[Mon Jan 17 12:09:58 2022]
rule pycometh_CpG:
    input: results/1G.methcalls.tsv, data/GRCh38_full_analysis_set_plus_decoy_hla.fa
    output: results/1G.CpG.bed9, results/1G.CpG.tsv
    log: logs/1G_pycoMeth.cpg.log
    jobid: 11
    wildcards: sample=1G
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/46d8142ba7772fa6d8d087a28f18f672
[Mon Jan 17 12:09:58 2022]
Error in rule pycometh_CpG:
    jobid: 11
    output: results/1G.CpG.bed9, results/1G.CpG.tsv
    log: logs/1G_pycoMeth.cpg.log (check log file(s) for error message)
    conda-env: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/46d8142ba7772fa6d8d087a28f18f672
    shell:
        pycoMeth CpG_Aggregate -i results/1G.methcalls.tsv -f data/GRCh38_full_analysis_set_plus_decoy_hla.fa -b results/1G.CpG.bed9 -t results/1G.CpG.tsv -d 5 -s 1G -v -p
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/log/2022-01-17T120949.567576.snakemake.log
