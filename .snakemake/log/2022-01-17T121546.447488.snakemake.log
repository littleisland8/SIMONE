The flag 'directory' used in rule depth_plot is only valid for outputs, not inputs.
The flag 'directory' used in rule meth is only valid for outputs, not inputs.
Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Job stats:
job                   count    min threads    max threads
------------------  -------  -------------  -------------
call_meth                 2             20             20
index_fast5               2              1              1
meth                      1              1              1
nanopolish_freq           2             20             20
parse_meth_freq           2             20             20
pycometh_CpG              2             20             20
pycometh_Interval         2             20             20
pycometh_Meth_Comp        1             20             20
total                    14              1             20

Select jobs to execute...

[Mon Jan 17 12:15:47 2022]
rule index_fast5:
    input: data/1S.pass.fastq.gz
    output: data/1S.pass.fastq.gz.index.readdb
    log: logs/1S_nanopolish_index.log
    jobid: 2
    wildcards: sample=1S
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b

[Mon Jan 17 12:15:47 2022]
rule index_fast5:
    input: data/1G.pass.fastq.gz
    output: data/1G.pass.fastq.gz.index.readdb
    log: logs/1G_nanopolish_index.log
    jobid: 1
    wildcards: sample=1G
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b
[Mon Jan 17 12:15:50 2022]
Finished job 2.
1 of 14 steps (7%) done
Select jobs to execute...
[Mon Jan 17 12:15:54 2022]
Finished job 1.
2 of 14 steps (14%) done

[Mon Jan 17 12:15:54 2022]
rule call_meth:
    input: data/1S.pass.fastq.gz, data/1S.pass.fastq.gz.index.readdb, data/GRCh38_full_analysis_set_plus_decoy_hla.fa, alignments/1S.minimap2.srt.bam, alignments/1S.minimap2.srt.bam.bai
    output: results/1S.methcalls.tsv
    log: logs/1S_nanopolish_methylation.log
    jobid: 6
    wildcards: sample=1S
    threads: 20
    resources: tmpdir=/tmp

Activating conda environment: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b
Terminating processes on user request, this might take some time.
[Mon Jan 17 12:15:56 2022]
Error in rule call_meth:
    jobid: 6
    output: results/1S.methcalls.tsv
    log: logs/1S_nanopolish_methylation.log (check log file(s) for error message)
    conda-env: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/conda/f872c48d4b4970fb8a50c247bc3b191b
    shell:
        nanopolish call-methylation -t 20 -r data/1S.pass.fastq.gz -b alignments/1S.minimap2.srt.bam -g data/GRCh38_full_analysis_set_plus_decoy_hla.fa > results/1S.methcalls.tsv
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Complete log: /home/simone/mnt/part4/keygene2/tn/SIMONE/.snakemake/log/2022-01-17T121546.447488.snakemake.log
